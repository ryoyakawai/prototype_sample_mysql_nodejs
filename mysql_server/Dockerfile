FROM mysql:5

ARG MYSQL_SERVER_HOST_NAME
ARG MYSQL_DATABASE
ARG MYSQL_PORT
ARG MYSQL_PORT_TO_EXPOSE
ARG MYSQL_ROOT_PASSWORD
ARG MYSQL_USER
ARG MYSQL_PASSWORD

ENV MYSQL_SERVER_HOST_NAME $MYSQL_SERVER_HOST_NAME
ENV MYSQL_DATABASE $MYSQL_DATABASE
ENV MYSQL_PORT 3306
ENV MYSQL_PORT_TO_EXPOSE $MYSQL_PORT_TO_EXPOSE
ENV MYSQL_ROOT_PASSWORD $MYSQL_ROOT_PASSWORD
ENV MYSQL_USER $MYSQL_USER
ENV MYSQL_PASSWORD $MYSQL_PASSWORD

EXPOSE $MYSQL_PORT_TO_EXPOSE
COPY conf.d /etc/mysql/conf.d
ADD initialize_db.sql /docker-entrypoint-initdb.d
